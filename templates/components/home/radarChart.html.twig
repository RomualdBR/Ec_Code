<!DOCTYPE html>
<html>
<head>
    <title>Radar Chart</title>
    <script src="https://cdn.jsdelivr.net/npm/apexcharts"></script>
</head>
<body>
<div class="card h-full">
    <div class="card-header">
        <h3 class="card-title">
            Répartition de mes lectures
        </h3>
    </div>
    <div class="card-body flex flex-col gap-5">
        <div id="radarChart"></div>
    </div>
</div>

<script>
    // Extraire les données passées par le contrôleur
    const categories = {{ categories|json_encode|raw }};
    const dataPoints = {{ dataPoints|json_encode|raw }};

    var options = {
      series: [
        {
          name: "Livres lus par catégorie",
          data: dataPoints
        }
      ],
      chart: {
        height: 350,
        type: 'radar',
      },
      labels: categories,
      fill: {
        opacity: 0.5,
        colors: []
      },
      stroke: {
        show: true,
        width: 2,
        colors: [],
        dashArray: 0
      },
      markers: {
        size: 5,
        hover: {
          size: 10
        }
      },
      plotOptions: {
        radar: {
          polygons: {
            strokeColor: '#e8e8e8',
            fill: {
              colors: ['#f8f8f8', '#fff']
            }
          }
        }
      },
      yaxis: {
        labels: {
          style: {
            colors: ["#a8a8a8"],
            fontSize: "11px",
            fontFamily: 'Arial'
          }
        }
      }
    };

    var chart = new ApexCharts(document.querySelector("#radarChart"), options);
    chart.render();
</script>
</body>
</html>
